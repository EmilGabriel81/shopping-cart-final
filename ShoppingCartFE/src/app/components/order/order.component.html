<div class="container">
    <h1>Order</h1>

    <form [formGroup]="form" novalidate>
        <div class="form-group">
            <label>Name:</label>
            <input class="form-control" formControlName="name" type="text" [(ngModel)] = "name">
        </div>
        <div *ngIf="form.controls['name'].invalid && (form.controls['name'].dirty || form.controls['name'].touched)"
            class="alert alert-danger">
            <div *ngIf="form.controls['name'].errors?.required">
                Name is required.
            </div>
        </div>

        <div class="form-group">
            <label>Address:</label>
            <input class="form-control" formControlName="address" type="text" [(ngModel)] = "address">
        </div>
        <div *ngIf="form.controls['address'].invalid && (form.controls['address'].dirty || form.controls['address'].touched)"
            class="alert alert-danger">
            <div *ngIf="form.controls['address'].errors?.required">
                Address is required.
            </div>
        </div>

        <div class="form-group">
            <label>Email:</label>
            <input class="form-control" formControlName="email" type="email" email [pattern]="emailPattern" [(ngModel)] = "email">
        </div>
        <div *ngIf="form.controls['email'].invalid && (form.controls['email'].dirty || form.controls['email'].touched)"
            class="alert alert-danger">
            <div *ngIf="form.controls['email'].errors?.email">
                Email is required.
            </div>
        </div>
        <div *ngIf="form.controls['email'].invalid && (form.controls['email'].dirty || form.controls['email'].touched)"
            class="alert alert-danger">
            <div *ngIf="form.controls['email'].errors?.pattern">
                Email must match pattern.
            </div>
        </div>

        <div class="form-group">
            <label>Phone:</label>
            <input class="form-control" formControlName="phoneNo" type="number" [(ngModel)] = "phoneNo">
        </div>
        <div *ngIf="form.controls['phoneNo'].invalid && (form.controls['phoneNo'].dirty || form.controls['phoneNo'].touched)"
            class="alert alert-danger">
            <div *ngIf="form.controls['phoneNo'].errors?.required">
                Phone is required.
            </div>
        </div>

        <div class="form-group">
            <label>Cart Id:</label>
            <input class="form-control" formControlName="cartId" type="text" readonly>
        </div>
        <div *ngIf="form.controls['cartId'].invalid && (form.controls['cartId'].dirty || form.controls['cartId'].touched)"
            class="alert alert-danger">
            <div *ngIf="form.controls['cartId'].errors?.required">
                Cart Id is required.
            </div>
        </div>
    </form>

    <p> form value: {{form.value | json}}</p>
    <p> form status: {{form.status | json}}</p>

    <button (click)="sendOrder()" type="submit" [disabled]="form.pristine || form.invalid"> Send Order</button>
</div>

<!-- order details  -->
<div class="order-details">
  <h4>Order Details</h4>
  <hr>

  <div class="details">
      <h5>Name : {{name}}</h5>
      <h5>Address : {{address}}</h5>
      <h5>Email : {{email}}</h5>
      <h5>Phone no. :{{phoneNo}}</h5>
  </div>
</div>
